# 使用Redis记录系统日志 #
---------

在构建一个系统时，我们常常需要记录当前发生的事情，以及记录特定消息出现的频率，根据出现频率的高低来决定消息的排列信息，帮助我们找到重要的信息。

常见记录日志的方法有两种：
1. 将日志记录在文件中。随时时间流逝将日志行不断添加到文件里面，并在一段时间后创建新的日志文件。这种方式为每个不同的服务创建不同的日志，由于服务轮换日志的机制不同，也缺少一种能够方便地聚合所有日志并对其进行处理的常见方法。
2. syslog服务。这种服务几乎运行在Linux服务器和Unix服务器的514号TCP端口和UDP端口上。syslog接受其他程序发来的日志消息，并将这个消息路由至存储在硬盘上的各个日志文件，并且负责旧日志的轮换和删除工作。甚至还可以将日志消息转发给其他服务来做进一步的处理。

syslog的转发功能可以将不同的日志分别存储在同一台服务器的多个文件里面，对于长时间地记录日志非常有帮助。我们可以使用redis来存储与时间紧密相关的日志，从而在功能上替代那些需要在短期内被存储的syslog消息。

## （1）最新日志 ##

我们需要使用列表来存储最新日志文件，使用LPUSH命令将日志消息推入到列表中。如果我们之后想要查看已有日志消息的话，可以使用LRANGE命令来拉取列表中的消息。

我们还要命名不同的日志消息对垒，根据问题的严重性对日志进行分级。
